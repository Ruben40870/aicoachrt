<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Entries</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="wrapper">
        <header>
            <h1>Entries</h1>
            <div>
                <a href="dashboard.html" class="back-button">Dashboard</a>
                <a href="gptcoach.html" class="back-button">GPTCoach</a>
                <a href="index.html" class="back-button">Form</a> <!-- Added Forms button -->
                <a href="weight.html" class="back-button">Weight</a>
                <button id="logoutButton" class="back-button">Logout</button>
            </div>
        </header>
        <div class="container">
            <div class="table-container">
                <table class="entries-table" id="entriesTable">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Day of the Week</th>
                            <th>Weight (Kg)</th>
                            <th>Calories (kcal)</th>
                            <th>Protein (g)</th>
                            <th>Carbs (g)</th>
                            <th>Fats (g)</th>
                            <th>Sleep Duration (min)</th>
                            <th>Sleep Quality</th>
                            <th>Mood</th>
                            <th>Stress</th>
                            <th>Gym Performance</th>
                            <th>Gym Strength</th>
                            <th>Resting Heart Rate</th>
                            <th>Blood Pressure</th>
                            <th>Blood Oxygen Level</th>
                            <th>Supplements Taken</th>
                            <th>PEDs Taken</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Table rows will be populated here -->
                    </tbody>
                </table>
            </div>
        </div>

        <footer class="footer">
            <p>Developed by Ruben Triegaardt</p>
        </footer>
    </div>
    <script>
        // Check if the user is authenticated
        if (!localStorage.getItem('authenticated')) {
            window.location.href = 'login.html';
        }

        // Auto logout after 1 hour
        const loginTime = localStorage.getItem('loginTime');
        if (loginTime && (Date.now() - parseInt(loginTime)) > 3600000) { // 1 hour in milliseconds
            localStorage.removeItem('authenticated');
            localStorage.removeItem('loginTime');
            alert('Session expired. Please log in again.');
            window.location.href = 'login.html';
        }

        // Logout button functionality
        const logoutButton = document.getElementById('logoutButton');
        if (logoutButton) {
            logoutButton.addEventListener('click', () => {
                localStorage.removeItem('authenticated');
                localStorage.removeItem('loginTime');
                alert('Logged out successfully.');
                window.location.href = 'login.html';
            });
        }

        // Fetch entries functionality
        fetchEntries();

        async function fetchEntries() {
            // Fetch the entries data here. Ensure your existing fetch logic is integrated correctly.
        }
    </script>
    <script src="script.js"></script>
</body>
</html>